{"version":3,"kind":"Notebook","sha256":"9e56598607825f7aff9915f83cd8a2a5b6d404560469b2f1351d5c5b3ba01518","slug":"model-exploration","location":"/tutorials/model_exploration.md","dependencies":[],"frontmatter":{"title":"Model Exploration","kernelspec":{"name":"open223-book","display_name":"open223-book","language":"python"},"jupytext":{"formats":"md:myst","text_representation":{"extension":".md","format_name":"myst"}},"content_includes_title":false,"github":"https://github.com/open223/docs.open223.info","numbering":{"title":{"offset":1}},"source_url":"https://github.com/open223/docs.open223.info/blob/main/tutorials/model_exploration.md","edit_url":"https://github.com/open223/docs.open223.info/edit/main/tutorials/model_exploration.md","exports":[{"format":"md","filename":"model_exploration.md","url":"/build/model_exploration-7d27092cb01efde41c14a1b345f4f905.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"admonition","kind":"note","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Note","key":"XahZMAkquo"}],"key":"F4Ai378O0t"},{"type":"paragraph","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"The purpose of this tutorial is to explore a model by learning the following:","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"a5GJfjP9aH"}],"key":"eva1EmN7Gr"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":18,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Parsing (loading) an existing model","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"hEZ0agvmxx"}],"key":"GPe9RMirBS"}],"key":"faj6cG3EUy"},{"type":"listItem","spread":true,"position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Querying an existing model.","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"S2zqidLsSY"}],"key":"W6kqWvS0Vx"}],"key":"JuFFxQSadU"}],"key":"wAnzwvIHvV"}],"key":"hu2VXKRqhj"},{"type":"paragraph","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"For this tutorial, we’ll use an existing equipment model of a variable air volume (VAV) terminal unit with cooling only from section 4.1 of ASHRAE Guideline 36-2021. This and other example models are available from ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"SPmA6Fvg1y"},{"type":"link","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"Open223 Models","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"mQa9lqiNfh"}],"identifier":"open223-resources","label":"open223-resources","url":"/open223-resources","internal":true,"dataUrl":"/open223-resources.json","key":"DH9Y67Vddw"},{"type":"text","value":".","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"xNJYFf2jTE"}],"key":"DxPB3Demk9"},{"type":"heading","depth":2,"position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"Model Parsing","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"JAipvralZh"}],"identifier":"model-parsing","label":"Model Parsing","html_id":"model-parsing","implicit":true,"key":"pIRDgbGRsh"},{"type":"paragraph","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"First, we’ll create a new empty graph then parse (load) an existing graph into it using the Python RDFLib library.","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"diCLunEatI"}],"key":"YHdv6QEmWJ"}],"key":"sMGlBPPxTJ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from rdflib import Graph\n\n# Create a Graph\ng = Graph()\n\n# Parse in an RDF file hosted on the Internet\ng.parse(\"https://models.open223.info/guideline36-2021-A-1.ttl\", format=\"ttl\")","key":"KQ9LJ1gfTt"},{"type":"outputs","id":"t8SqUwffr_tvms8zjWQOs","children":[],"key":"pyfQnmB9ni"}],"key":"bwyFNTxCcX"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"text","value":"Next, we’ll explore the model’s size by printing the number of triples in it.","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"svNmVmOrGv"}],"key":"a1ffH8Ln8T"}],"key":"QWEJHV1sHJ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Print the number of \"triples\" in the Graph\nprint(f\"Graph g has {len(g)} statements.\")","key":"NsGn0zEaGG"},{"type":"outputs","id":"VN6stQ37YF8cDfIRx259V","children":[],"key":"JfQqN0SyPc"}],"key":"UBOXLNbrU5"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"children":[{"type":"text","value":"Finally, we’ll print the contents of the model since it’s not that large.","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"rHBSSjCFH1"}],"key":"gGuC9SnJTI"}],"key":"wZ5w6jnLVu"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Print out the entire Graph in the RDF Turtle format\nprint(g.serialize(format=\"turtle\"))","key":"Y5g4Ivpw0G"},{"type":"outputs","id":"JhdyI25U7L6nz35uJGmvY","children":[],"key":"syPrJ3KmUG"}],"key":"q1zu9F7zOs"},{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"children":[{"type":"text","value":"Model Querying","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"MUeSuK6r8m"}],"identifier":"model-querying","label":"Model Querying","html_id":"model-querying","implicit":true,"key":"eq9nl3EHDG"},{"type":"paragraph","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"children":[{"type":"text","value":"After exploring the model to get a sense for what it contains, let’s query the model using RDFLib (this can also be done with ","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"tP9INYCUSp"},{"type":"link","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"children":[{"type":"text","value":"Open223 Query","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"fQc7MyBWVB"}],"identifier":"open223-resources","label":"open223-resources","url":"/open223-resources","internal":true,"dataUrl":"/open223-resources.json","key":"ry74Isuuz8"},{"type":"text","value":"). For this tutorial, we’ll query the model for all the VAV terminal’s points, which are instances of the following classes:","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"DcobL8miMO"}],"key":"Z8hMEWG2gT"},{"type":"paragraph","position":{"start":{"line":56,"column":1},"end":{"line":56,"column":1}},"children":[{"type":"link","position":{"start":{"line":56,"column":1},"end":{"line":56,"column":1}},"children":[{"type":"text","value":"Open223 Explore links","position":{"start":{"line":56,"column":1},"end":{"line":56,"column":1}},"key":"sgX0bvhmyW"}],"identifier":"open223-resources","label":"open223-resources","url":"/open223-resources","internal":true,"dataUrl":"/open223-resources.json","key":"AR1qFDziMT"},{"type":"text","value":":","position":{"start":{"line":56,"column":1},"end":{"line":56,"column":1}},"key":"zC3szFVqR8"}],"key":"OwkHkaC4T6"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":57,"column":1},"end":{"line":59,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://explore.open223.info/s223/QuantifiableActuatableProperty.html","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"children":[{"type":"text","value":"QuantifiableActuatableProperty","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"d0S0GkY35G"}],"urlSource":"https://explore.open223.info/s223/QuantifiableActuatableProperty.html","key":"nLBxg5eTQT"}],"key":"BLiEZShj3A"}],"key":"JgStQdaMju"},{"type":"listItem","spread":true,"position":{"start":{"line":58,"column":1},"end":{"line":59,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://explore.open223.info/s223/QuantifiableObservableProperty.html","position":{"start":{"line":58,"column":1},"end":{"line":58,"column":1}},"children":[{"type":"text","value":"QuantifiableObservableProperty","position":{"start":{"line":58,"column":1},"end":{"line":58,"column":1}},"key":"z9PdoM4kYA"}],"urlSource":"https://explore.open223.info/s223/QuantifiableObservableProperty.html","key":"HGLIVUB6lj"}],"key":"ho9twLk8Ye"}],"key":"KegK3mhj8r"}],"key":"uTlWaxc1gg"}],"key":"Y7wVv8dE4y"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Query the data in g using SPARQL\nq = \"\"\"\nPREFIX s223: <http://data.ashrae.org/standard223#>\n\nSELECT ?obj WHERE {\n  { ?obj a s223:QuantifiableActuatableProperty . }\n  \tUNION\n  { ?obj a s223:QuantifiableObservableProperty . }\n}\n\"\"\"\n\n# Apply the query to the graph and iterate through results\nfor r in g.query(q):\n    print(r)","key":"u89GODyzYQ"},{"type":"outputs","id":"QiatJGtzv5hBVQSqRkzWu","children":[],"key":"dnDMmlaEqW"}],"key":"gRUMtdDNSL"}],"key":"BKHg9KG60O"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Sensors and Properties","url":"/sensors-and-properties","group":"Explanation"},"next":{"title":"Model Inference","url":"/model-inference","group":"Tutorials"}}},"domain":"http://localhost:3000"}